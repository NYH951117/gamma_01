<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html lang="en">
<head>
  <meta name="generator" content=
  "HTML Tidy for Linux (vers 25 March 2009), see www.w3.org">
  <meta content="text/html; charset=us-ascii" http-equiv=
  "content-type">

  <title>ISP Reference Manual: SLC_deramp_S1_TOPS</title>
</head>

<body>
  <h1>Gamma ISP: Reference Manual</h1>
  <hr>

  <h2>SLC_deramp_S1_TOPS</h2>

  <p><i>ANSI-C program:</i>&nbsp;<a href=
  "../src/SLC_deramp_S1_TOPS.c">SLC_deramp_S1_TOPS.c</a></p>

  <p><strong>NAME</strong><br>
  SLC_deramp_S1_TOPS - Calculate and subtract S1 TOPS Doppler phase
  from burst SLC data</p>

  <p><strong>SYNOPSIS</strong><br>
  &nbsp; <code><b>SLC_deramp_S1_TOPS &lt;SLC1_tab&gt;
  &lt;SLC2_tab&gt; &lt;s1&gt; &lt;bn1&gt; &lt;s2&gt;
  &lt;bn2&gt;</b></code></p>

  <table border="1" cellpadding="7">
    <tbody>
      <tr>
        <td>&lt;SLC1_tab&gt;</td>

        <td>(input) 3 column list of TOPS SLC-1 swaths to be copied
        in row order IW1, IW2, IW3:<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        SLC_tab line entries:&nbsp;&nbsp; SLC&nbsp;&nbsp;&nbsp;
        SLC_par&nbsp;&nbsp; TOPS_par</td>
      </tr>

      <tr>
        <td>&lt;SLC2_tab&gt;</td>

        <td>(input) 3 column list of the output copied SLC-1 TOPS
        swaths in the order IW1, IW2, IW3</td>
      </tr>

      <tr>
        <td>&lt;mode &gt;</td>

        <td>mode of operation:<br>
        &nbsp;&nbsp;&nbsp; 0: subtract TOPS Doppler phase
        (deramp)<br>
        &nbsp;&nbsp;&nbsp; 1: add Doppler phase ramp (reramp)</td>
      </tr>

      <tr>
        <td>&lt;phflg&gt;</td>

        <td>deramp phase flag:<br>
        &nbsp;&nbsp;&nbsp; 0: do not save TOPS Doppler phase
        (default)<br>
        &nbsp;&nbsp;&nbsp; 1: save TOPS Doppler phase, output
        filename is the same as the deramped SLC with extension
        .dph</td>
      </tr>
    </tbody>
  </table>

  <p><strong>EXAMPLES</strong></p>

  <p>Apply azimuth deramp phase to TOPS mode SLC bursts, save the
  deramp phase in a files named after the SLC swath files:</p>

  <p><samp>SLC_deramp_S1_TOPS SLC_20140809_tab
  SLC_20140809_deramp_tab 0 1</samp></p>

  <p>Output is written into the files listed in <span style=
  "font-style: italic;">SLC_20140809_deramp_tab</span>.<br></p>

  <p><strong>DESCRIPTION<br>
  <br></strong> <em>SLC_deramp_S1_TOPS</em> deramps the bursts of
  an SLC. This means that the azimuth phase associated with the
  rapid change of the antenna pointing is removed. This facilitates
  operations on the such as filtering and interpolation.&nbsp;
  Calculation of the azimuth chirp rate follows the approach
  described in the following ESA Application Note:</p>

  <p><a href=
  "https://sentinel.esa.int/documents/247904/1653442/Sentinel-1-TOPS-SLC_Deramping">
  Definition of the TOPS SLC deramping function for products
  generated by the S-1 IPF</a></p>

  <p>The deramp function is determined from the azimuth sweep rate,
  spacecraft along-track velocity, and the Azimuth FM rate that is
  a function of slant-range.</p>

  <p>The SLC_tab file is a text file with one line for each SLC in
  the data set. Typically there are 3 images for Sentinel-1
  Interferometric Wide Mode.&nbsp; The three columns correspond to
  the SLC data file name, the SLC parameter file name and the
  TOPS_par file name. The TOPS_par contains information on each
  burst in the burst SLC.&nbsp; The SLC_tab can contain fewer than
  3 records, and in the case of Extended Wide mode, it can contain
  information for the five sub-swaths. The output SLC_tab can be
  produced simply with a text editor or written with a script.</p>

  <p>Below are examples of the input SLC_tab: <span style=
  "font-style: italic;">SLC_20140809_tab1</span></p>

  <p><code>slc_TOPS/20140809_iw1_vv.slc&nbsp;
  slc_TOPS/20140809_iw1_vv.slc.par&nbsp;
  slc_TOPS/20140809_iw1_vv.tops_par<br>
  slc_TOPS/20140809_iw2_vv.slc&nbsp;
  slc_TOPS/20140809_iw2_vv.slc.par&nbsp;
  slc_TOPS/20140809_iw2_vv.tops_par<br>
  slc_TOPS/20140809_iw3_vv.slc&nbsp;
  slc_TOPS/20140809_iw3_vv.slc.par&nbsp;
  slc_TOPS/20140809_iw3_vv.tops_par</code></p>

  <p>and the output SLC_tab <span style=
  "font-style: italic;">20140809_deramp_tab</span>:</p><code>slc_TOPS_deramp/20140809_iw1_vv.slc&nbsp;
  slc_TOPS_deramp/20140809_iw1_vv.slc.par&nbsp;
  slc_TOPS_deramp/20140809_iw1_vv.tops_par<br>
  slc_TOPS_deramp/20140809_iw2_vv.slc&nbsp;
  slc_TOPS_deramp/20140809_iw2_vv.slc.par&nbsp;
  slc_TOPS_deramp/20140809_iw2_vv.tops_par<br>
  slc_TOPS_deramp/20140809_iw3_vv.slc&nbsp;
  slc_TOPS_deramp/20140809_iw3_vv.slc.par&nbsp;
  slc_TOPS_deramp/20140809_iw3_vv.tops_par</code><br>

  <p>An example of running the <span style=
  "font-style: italic;">SLC_deramp_S1_TOPS</span> program is shown
  here for the first 2 bursts is shown below.</p>

  <p><code>$ SLC_deramp_S1_TOPS SLC_20140809_tab
  SLC_20140809_deramp_tab 0 1</code><br>
  <code>*** Calculate and subtract S1 TOPS Doppler phase from burst
  SLC data ***<br>
  *** Copyright 2014, Gamma Remote Sensing v1.2 30-Oct-2014 ***<br>
  OPENMP: number of physically available processors: 8<br>
  OPENMP: max. number of threads (program defined): 4<br>
  OPENMP: max. number of available threads, (environment variable
  OMP_NUM_THREADS): 8<br>
  OPENMP: number of threads that will be used: 4<br>
  TOPS SLC1_tab: SLC_20140809_tab<br>
  number of SLC swaths in SLC1_tab: 1<br>
  SLC-1 swath SLC: slc_TOPS/20140809_iw1_vv.slc<br>
  SLC-1 swath SLC parameter file:
  slc_TOPS/20140809_iw1_vv.slc.par<br>
  SLC-1 swath TOPS_PAR burst parameter file:
  slc_TOPS/20140809_iw1_vv.tops_par<br>
  r0 (m):&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.000&nbsp; r2
  (m):&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.000&nbsp;
  nr:&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp; rpix (m):&nbsp;
  0.000000&nbsp; t0 (s):&nbsp;&nbsp;&nbsp;&nbsp; 0.000000&nbsp; t2
  (s):&nbsp;&nbsp;&nbsp;&nbsp; 0.000000&nbsp;
  nlines:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp; time_per_line (s):
  0.000000e+00<br>
  SLC2_tab file for output deramped SLC swaths:
  SLC_20140809_deramp_tab<br>
  <br>
  mode: subtract Doppler phase ramp (deramp)<br>
  NOTE: saving TOPS mode Doppler phase<br>
  maximum number of bursts in an SLC swath: 9<br>
  TOPS SLC-2 swath SLC (output):
  slc_TOPS_deramp/20140809_iw1_vv.slc<br>
  TOPS Doppler phase (float):
  slc_TOPS_deramp/20140809_iw1_vv.slc.dph<br>
  TOPS SLC2 swath parameter file:
  slc_TOPS_deramp/20140809_iw1_vv.slc.par<br>
  TOPS SLC2 TOPS burst parameter file:
  slc_TOPS_deramp/20140809_iw1_vv.tops_par<br>
  <br>
  SLC1: 1&nbsp; TOPS file size (bytes): 2492721864<br>
  TOPS SLC1 number of records: 14661<br>
  TOPS number of records per burst: 1629<br>
  TOPS number of bursts: 9<br>
  S/C velocity vector (m/s) x: -4016.097&nbsp; y:
  -2482.025&nbsp;&nbsp;&nbsp; y: 5948.147<br>
  S/C velocity (m/s): 7594.072<br>
  wavelength (m): 0.055466<br>
  TOPS azimuth steering rate (deg/s): -1.590369<br>
  Doppler centroid rate due to antenna steering (Hz/s):
  7.600724e+03<br>
  SLC-1 swath:1&nbsp; burst: 1&nbsp; window:&nbsp;
  800420.5701&nbsp;&nbsp; 849921.4330&nbsp;&nbsp;&nbsp;
  60946.53539&nbsp;&nbsp;&nbsp;
  60949.57761&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;
  21250&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;
  1481<br>
  SLC-1 burst 1
  date:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  2014-08-09T16:55:46.535387<br>
  SLC-1 burst 1 Doppler date:&nbsp;&nbsp;&nbsp;
  2014-08-09T16:55:47.908126<br>
  SLC-1 burst 1 az_FM_rate date: 2014-08-09T16:55:46.945386<br>
  SLC-1 burst 1 start time (s): 60946.5354&nbsp; Doppler_poly_time:
  60947.9081&nbsp;&nbsp;&nbsp; az_FM_rate_time (s): 60946.9454<br>
  <br>
  &nbsp;&nbsp;&nbsp; pixel&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; range
  (m)&nbsp;&nbsp;&nbsp;&nbsp; fd (Hz)&nbsp;&nbsp;&nbsp;&nbsp; kr
  (Hz/s)&nbsp;&nbsp;&nbsp;&nbsp; kt (Hz/s) &nbsp;<br>
  ******************************************************************<br>

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  0&nbsp;&nbsp;&nbsp; 800420.570&nbsp;&nbsp;&nbsp;
  -126.489&nbsp;&nbsp;&nbsp; -2326.3644&nbsp;&nbsp;&nbsp;&nbsp;
  1781.1924<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2000&nbsp;&nbsp;&nbsp;
  805079.694&nbsp;&nbsp;&nbsp; -125.007&nbsp;&nbsp;&nbsp;
  -2312.4669&nbsp;&nbsp;&nbsp;&nbsp; 1773.0338<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4000&nbsp;&nbsp;&nbsp;
  809738.818&nbsp;&nbsp;&nbsp; -123.608&nbsp;&nbsp;&nbsp;
  -2298.7217&nbsp;&nbsp;&nbsp;&nbsp; 1764.9422<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 6000&nbsp;&nbsp;&nbsp;
  814397.942&nbsp;&nbsp;&nbsp; -122.291&nbsp;&nbsp;&nbsp;
  -2285.1288&nbsp;&nbsp;&nbsp;&nbsp; 1756.9180<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 8000&nbsp;&nbsp;&nbsp;
  819057.066&nbsp;&nbsp;&nbsp; -121.056&nbsp;&nbsp;&nbsp;
  -2271.6882&nbsp;&nbsp;&nbsp;&nbsp; 1748.9621<br>
  &nbsp;&nbsp;&nbsp;&nbsp; 10000&nbsp;&nbsp;&nbsp;
  823716.190&nbsp;&nbsp;&nbsp; -119.904&nbsp;&nbsp;&nbsp;
  -2258.3999&nbsp;&nbsp;&nbsp;&nbsp; 1741.0750<br>
  &nbsp;&nbsp;&nbsp;&nbsp; 12000&nbsp;&nbsp;&nbsp;
  828375.314&nbsp;&nbsp;&nbsp; -118.835&nbsp;&nbsp;&nbsp;
  -2245.2639&nbsp;&nbsp;&nbsp;&nbsp; 1733.2574<br>
  &nbsp;&nbsp;&nbsp;&nbsp; 14000&nbsp;&nbsp;&nbsp;
  833034.438&nbsp;&nbsp;&nbsp; -117.848&nbsp;&nbsp;&nbsp;
  -2232.2803&nbsp;&nbsp;&nbsp;&nbsp; 1725.5099<br>
  &nbsp;&nbsp;&nbsp;&nbsp; 16000&nbsp;&nbsp;&nbsp;
  837693.562&nbsp;&nbsp;&nbsp; -116.944&nbsp;&nbsp;&nbsp;
  -2219.4489&nbsp;&nbsp;&nbsp;&nbsp; 1717.8332<br>
  &nbsp;&nbsp;&nbsp;&nbsp; 18000&nbsp;&nbsp;&nbsp;
  842352.686&nbsp;&nbsp;&nbsp; -116.122&nbsp;&nbsp;&nbsp;
  -2206.7699&nbsp;&nbsp;&nbsp;&nbsp; 1710.2278<br>
  &nbsp;&nbsp;&nbsp;&nbsp; 20000&nbsp;&nbsp;&nbsp;
  847011.810&nbsp;&nbsp;&nbsp; -115.383&nbsp;&nbsp;&nbsp;
  -2194.2432&nbsp;&nbsp;&nbsp;&nbsp; 1702.6945<br>
  <br>
  SLC-1 swath:1&nbsp; burst: 2&nbsp; window:&nbsp;
  800420.5701&nbsp;&nbsp; 849921.4330&nbsp;&nbsp;&nbsp;
  60949.57967&nbsp;&nbsp;&nbsp;
  60952.35056&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;
  21250&nbsp;&nbsp;&nbsp;&nbsp; 132&nbsp;&nbsp;&nbsp; 1349<br>
  SLC-1 burst 2
  date:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  2014-08-09T16:55:49.308333<br>
  SLC-1 burst 2 Doppler date:&nbsp;&nbsp;&nbsp;
  2014-08-09T16:55:50.666403<br>
  SLC-1 burst 2 az_FM_rate date: 2014-08-09T16:55:49.703663<br>
  SLC-1 burst 2 start time (s): 60949.3083&nbsp; Doppler_poly_time:
  60950.6664&nbsp;&nbsp;&nbsp; az_FM_rate_time (s): 60949.7037<br>
  <br>
  &nbsp;&nbsp;&nbsp; pixel&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; range
  (m)&nbsp;&nbsp;&nbsp;&nbsp; fd (Hz)&nbsp;&nbsp;&nbsp;&nbsp; kr
  (Hz/s)&nbsp;&nbsp;&nbsp;&nbsp; kt (Hz/s) &nbsp;<br>
  ******************************************************************<br>

  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
  0&nbsp;&nbsp;&nbsp; 800420.570&nbsp;&nbsp;&nbsp;&nbsp;
  -69.985&nbsp;&nbsp;&nbsp; -2326.2973&nbsp;&nbsp;&nbsp;&nbsp;
  1781.1530<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2000&nbsp;&nbsp;&nbsp;
  805079.694&nbsp;&nbsp;&nbsp;&nbsp; -73.847&nbsp;&nbsp;&nbsp;
  -2312.3991&nbsp;&nbsp;&nbsp;&nbsp; 1772.9940<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4000&nbsp;&nbsp;&nbsp;
  809738.818&nbsp;&nbsp;&nbsp;&nbsp; -77.555&nbsp;&nbsp;&nbsp;
  -2298.6533&nbsp;&nbsp;&nbsp;&nbsp; 1764.9019<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 6000&nbsp;&nbsp;&nbsp;
  814397.942&nbsp;&nbsp;&nbsp;&nbsp; -81.110&nbsp;&nbsp;&nbsp;
  -2285.0598&nbsp;&nbsp;&nbsp;&nbsp; 1756.8773<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 8000&nbsp;&nbsp;&nbsp;
  819057.066&nbsp;&nbsp;&nbsp;&nbsp; -84.512&nbsp;&nbsp;&nbsp;
  -2271.6186&nbsp;&nbsp;&nbsp;&nbsp; 1748.9209<br>
  &nbsp;&nbsp;&nbsp;&nbsp; 10000&nbsp;&nbsp;&nbsp;
  823716.190&nbsp;&nbsp;&nbsp;&nbsp; -87.762&nbsp;&nbsp;&nbsp;
  -2258.3298&nbsp;&nbsp;&nbsp;&nbsp; 1741.0333<br>
  &nbsp;&nbsp;&nbsp;&nbsp; 12000&nbsp;&nbsp;&nbsp;
  828375.314&nbsp;&nbsp;&nbsp;&nbsp; -90.858&nbsp;&nbsp;&nbsp;
  -2245.1933&nbsp;&nbsp;&nbsp;&nbsp; 1733.2153<br>
  &nbsp;&nbsp;&nbsp;&nbsp; 14000&nbsp;&nbsp;&nbsp;
  833034.438&nbsp;&nbsp;&nbsp;&nbsp; -93.801&nbsp;&nbsp;&nbsp;
  -2232.2091&nbsp;&nbsp;&nbsp;&nbsp; 1725.4674<br>
  &nbsp;&nbsp;&nbsp;&nbsp; 16000&nbsp;&nbsp;&nbsp;
  837693.562&nbsp;&nbsp;&nbsp;&nbsp; -96.592&nbsp;&nbsp;&nbsp;
  -2219.3772&nbsp;&nbsp;&nbsp;&nbsp; 1717.7902<br>
  &nbsp;&nbsp;&nbsp;&nbsp; 18000&nbsp;&nbsp;&nbsp;
  842352.686&nbsp;&nbsp;&nbsp;&nbsp; -99.229&nbsp;&nbsp;&nbsp;
  -2206.6977&nbsp;&nbsp;&nbsp;&nbsp; 1710.1845<br>
  &nbsp;&nbsp;&nbsp;&nbsp; 20000&nbsp;&nbsp;&nbsp;
  847011.810&nbsp;&nbsp;&nbsp; -101.714&nbsp;&nbsp;&nbsp;
  -2194.1705&nbsp;&nbsp;&nbsp;&nbsp;
  1702.6508</code></p><strong>SEE ALSO</strong>

  <p><a href="SLC_par.html">SLC_par</a>,&nbsp; <a href=
  "typedef_ISP.h.html">typedef_ISP.h</a>, <a href=
  "TOPS_par.html">TOPS_par</a></p>
  <hr>
  <a href="copyright.html">&copy;</a> Copyrights for <a href=
  "ISP_documentation.html">Documentation</a>, <a href=
  "ISP_users_guide.html">Users Guide</a> and <a href=
  "ISP_reference_manual.html">Reference Manual</a> by <a href=
  "gamma.html">Gamma Remote Sensing</a>, 2014.<br>
  last change 10-Dec-2014
</body>
</html>

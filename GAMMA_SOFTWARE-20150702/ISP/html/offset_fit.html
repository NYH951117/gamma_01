<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
  <meta name="generator" content=
  "HTML Tidy for Linux (vers 25 March 2009), see www.w3.org">
  <meta http-equiv="Content-Type" content=
  "text/html; charset=us-ascii">

  <title>ISP Reference Manual: offset_fit</title>
</head>

<body>
  <h1>Gamma ISP: Reference Manual</h1>
  <hr>

  <h2>offset_fit</h2><i>ANSI-C program: <a href=
  "../src/offset_fit.c">offset_fit.c</a></i>

  <p><i>offset_fit</i> computes registration offset polynomials
  from offsets file generated by one of the programs <a href=
  "offset_pwr.html">offset_pwr,</a> <a href=
  "offset_SLC.html">offset_SLC</a>, <a href=
  "offset_SLC_tracking.html">offset_SLC_tracking</a>, <a href=
  "offset_pwr_tracking.html">offset_pwr_tracking</a>,</p>

  <p><b>SYNOPSIS</b><br>
  <b><tt>offset_fit &lt;offs&gt; &lt;snr&gt; &lt;OFF_par&gt;
  [coffs] [coffsets] [thres] [npoly] [interact_flag]</tt></b><br>
  &nbsp;</p>

  <table border="1" cellpadding="7">
    <tbody>
      <tr>
        <td>&lt;offs&gt;</td>

        <td>(input) range and azimuth offset estimates (fcomplex)
        (fcomplex)</td>
      </tr>

      <tr>
        <td>&lt;snr&gt;</td>

        <td>(input) SNR values of offset estimates (float)</td>
      </tr>

      <tr>
        <td>&lt;OFF_par&gt;</td>

        <td>(input) ISP offset/interferogram parameter file</td>
      </tr>

      <tr>
        <td>[coffs]</td>

        <td>(output) culled range and azimuth offset estimates
        (fcomplex, enter - for none)</td>
      </tr>

      <tr>
        <td>[coffsets]</td>

        <td>(output) culled offset estimates and SNR values (text
        format, enter - for none)</td>
      </tr>

      <tr>
        <td>[thres]</td>

        <td>SNR threshold (default from OFF_par)</td>
      </tr>

      <tr>
        <td>[npoly]</td>

        <td>number of polynomial model parameters (enter - for
        default, 1, 3, 4, default=4)</td>
      </tr>

      <tr>
        <td>[interact_flag]</td>

        <td>interactive culling (1=YES, 0=NO, default=NO )</td>
      </tr>
    </tbody>
  </table>

  <p><b>EXAMPLE</b><br>
  <tt>offset_fit 1352_1610.offs 1352_1610.snr 1352_1610.off
  1352_1610.coffs 1352_1610.coffsets 3.0<br></tt></p>

  <p>Derives the 4-parameter regression polynomials with a minimum
  SNR threshold of 3.0<br></p>

  <p><b>DESCRIPTION</b><br></p>

  <p><i>offset_fit</i> computes range and azimuth registration
  offset polynomials from offsets estimated by one of the programs
  <a href="offset_pwr.html">offset_pwr</a>, <a href=
  "offset_SLC.html">offset_SLC</a>,<a href=
  "offset_pwr_tracking.html">offset_pwr_tracking</a>, or <a href=
  "offset_SLC_tracking.html">offset_SLC_tracking</a>. The input
  range and azimuth offsets and the corresponding SNR estimates
  (used a measure for the quality of the individual estimates) are
  provided in binary files.</p>

  <p>This program generates 6-term polynomial models of range and
  azimuth offsets using linear least-squares. It has the capability
  to determine if particular offset measurements are in error and
  removes these from the input data set based upon two criterea:
  SNR of the offset measurement, and deviation of the measurement
  with respect to the current model values. Offset estimates with
  an SNR below the indicated threshold are rejected for the final
  fit. Different SNR thresholds are required depending on the
  offset estimation method used. Recommended values for the
  supported methods are listed below.<br></p>

  <table border="1" cellpadding="7">
    <tbody>
      <tr>
        <td style="font-weight: bold;">Program</td>

        <td style="font-weight: bold;">Nominal SNR threshold</td>
      </tr>

      <tr>
        <td>offset_pwr</td>

        <td style="text-align: center;">7.0</td>
      </tr>

      <tr>
        <td>offset_SLC</td>

        <td style="text-align: center;">3.0</td>
      </tr>
    </tbody>
  </table>

  <p>The second criterea for rejection of values is based upon the
  deviation of the offset measurement away from an initial fit of
  the data. This process can be repeated interatively using the
  initally culled data to get a new estimate that is used for
  comparison with the culled data. Tighter thresholds are applied
  as the interation proceeds. Termination occurs when there is no
  further improvement in the standard deviation of the offsets
  relative to the model and is a matter of judgement.</p>

  <p>Offset polynomial estimation can be done either automatically
  or interactively. The program queries the user in the interactive
  mode for the SNR and maximum range and azimuth errors. Offset
  data meeting the threshold criterea are then used to determine a
  new global fit to the estimates. Typically, in the first round of
  culling, the points 3 or more standard deviations away from the
  initial least-squares fit are rejected.</p>

  <p>For interferometric repeat pass data a co-registration
  accuracy of better than 0.2 pixels (re-sampling of SLC-2 is
  required) allows limiting&nbsp; the loss of correlation by
  registration errors to below 10%.</p>

  <p>The formats and definitions of the individual parameters in
  the are ISP offset/processing parameter file are found in the ISP
  type definition file <i>typedef_ISP.h</i> and in the description
  of the ISP offset/processing parameter file and in the
  description of the <a href=
  "create_offset.html">create_offset</a>&nbsp; program. The
  coordinates of the image section selected to be processed are
  relative to SLC-1.</p>

  <p>The 4-parameter polynomials used to model the range and
  azimuth offsets are of the type:<br>
  <tt>range_offset = A0 + A1*range + A2*azimuth + A3*range*azimuth
  + A4*range*range + A5*azimuth*azimuth</tt><br>
  <tt>azimuth_offset = B0 + B1*range + B2*azimuth +
  B3*range*azimuth + B4*range*range + B5*azimuth*azimuth</tt></p>

  <p>The resulting polynomials are written out to the ISP
  offset/processing parameter file. The polynomial order can be
  indicated on the command line. Valid orders are 1,3,4 or 6. The
  corresponding polynomials are (r: range pixel number, az: azimuth
  pixel number):<br></p>

  <table border="1" cellpadding="7">
    <tbody>
      <tr>
        <td style="font-weight: bold;">Order</td>

        <td style="font-weight: bold;">Polynomial</td>
      </tr>

      <tr>
        <td style="text-align: center;">1</td>

        <td><tt>A0</tt></td>
      </tr>

      <tr>
        <td style="text-align: center;">3</td>

        <td><tt>A0 + A1*r + A2*az</tt></td>
      </tr>

      <tr>
        <td style="text-align: center;">4</td>

        <td><tt>A0 + A1*r + A2*az + A3*r*az</tt></td>
      </tr>

      <tr>
        <td style="text-align: center;">6</td>

        <td><tt>A0 + A1*r + A2*az + A3*r*az + A4*r*r +
        A5*az*az</tt></td>
      </tr>
    </tbody>
  </table><br>

  <p><b>OPTIONS</b><br>
  The use of a 3-parameter polynomial may be preferred over a
  4-parameter polynomial if the SLC data are very noisy.</p>

  <p><b>SEE ALSO</b><br>
  <a href="typedef_ISP.h.html">typedef_ISP.h</a>, <a href=
  "OFF_par.html">OFF_par</a>,<a href=
  "offset_pwr.html">offset_pwr</a>, <a href=
  "offset_SLC.html">offset_SLC</a>,<a href=
  "offset_SLC_tracking.html">offset_SLC_tracking</a>, <a href=
  "offset_pwr_tracking.html">offset_pwr_tracking</a>, <a href=
  "init_offset_orbit.html">init_offset_orbit</a>, <a href=
  "init_offset.html">init_offset</a>, <a href=
  "create_offset.html">create_offset</a><br></p>
  <hr>
  <a href="copyright.html">&copy;</a> Copyrights for <a href=
  "ISP_documentation.html">Documentation</a>, <a href=
  "ISP_users_guide.html">Users Guide</a> and <a href=
  "ISP_reference_manual.html">Reference Manual</a> by <a href=
  "gamma.html">Gamma Remote Sensing</a>, 2008. <a href=
  "urs_wegmuller.html">UW</a>, <a href=
  "charles_werner.html">CW</a>, last change 15-Feb-2008.
</body>
</html>
